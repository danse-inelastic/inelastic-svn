<html>
 <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Flot Test</title>
    <link href="layout.css" rel="stylesheet" type="text/css"></link>
    <!--[if IE]><script language="javascript" type="text/javascript" src="../excanvas.pack.js"></script><![endif]-->
    <script language="javascript" type="text/javascript" src="jquery.js"></script>
    <script language="javascript" type="text/javascript" src="jquery.flot.js"></script>
 </head>
<h1>

<script id="source" language="javascript" type="text/javascript">
var header = "hi";
function showHeader()
{document.write(header);}
function setHeader()
{header = prompt("Please enter a header","XML Chart");
showHeader();}
showHeader();


</script>
 <button onclick="setHeader()">Magic Button</button>
</h1>


<body>

    <div id="placeholder" style="width:900px;height:450px;"></div>
<p>Flot graph imported from an XML file</p>
<script id="source" language="javascript" type="text/javascript">
var g = [[0.743924923,8.761498448],[0.991899897,4.019943956],[1.239874872,2.066531085],[1.487849846,3.677775692],[1.735824821,1.807968158],[1.983799795,2.642061508],[2.231774769,2.233475133],[2.479749744,2.239646260],[2.727724718,2.252550683],[2.975699692,1.562009807],[3.223674667,1.604862061],[3.471649641,1.601792315],[3.719624615,1.038463042],[3.967599590,1.994049469],[4.215574564,1.332100436],[4.463549539,0.928237549],[4.711524513,1.011989355],[4.959499487,0.753004904],[5.207474462,1.256323802],[5.455449436,0.958839811],[5.703424410,1.625290456],[5.951399385,1.827554780],[6.199374359,2.878399591],[6.447349334,0.685908764],[6.695324308,0.843884766],[6.943299282,1.006205761],[7.191274257,0.821249958],[7.439249231,1.929595170],[7.687224205,2.743369973],[7.935199180,1.994094724],[8.183174154,0.766242556],[8.431149128,1.850581672],[8.679124103,1.942798712],[8.927099077,0.927227189],[9.175074052,0.948909551],[9.423049026,0.992034005],[9.671024000,2.106318742],[9.918998975,1.969008631],[10.166973949,1.961223104],[10.414948923,1.857042650],[10.662923898,2.605111669],[10.910898872,1.182056802],[11.158873846,1.781699910],[11.406848821,2.620930281],[11.654823795,1.880893564],[11.902798770,2.421381971],[12.150773744,1.311637082],[12.398748718,1.348884922],[12.646723693,2.950662733],[12.894698667,2.348220065],[13.142673641,1.983285188],[13.390648616,2.155640393],[13.638623590,1.825344605],[13.886598564,3.285410947],[14.134573539,1.353880369],[14.382548513,1.215676449],[14.630523488,3.583090309],[14.878498462,1.560247836],[15.126473436,2.489708463],[15.374448411,1.890438686],[15.622423385,1.648153780],[15.870398359,1.454830856],[16.118373334,2.337175034],[16.366348308,1.641217380],[16.614323283,1.835199624],[16.862298257,1.577803771],[17.110273231,1.282998084],[17.358248206,2.107406005],[17.606223180,1.885413154],[17.854198154,1.910002144],[18.102173129,2.212535226],[18.350148103,1.425487942],[18.598123077,1.387940079],[18.846098052,1.893577360],[19.094073026,1.985334034],[19.342048001,2.250165139],[19.590022975,2.390815557],[19.837997949,1.960137772],[20.085972924,2.418820470],[20.333947898,1.875842412],[20.581922872,3.265715381],[20.829897847,1.575247795],[21.077872821,2.303107203],[21.325847795,2.645248863],[21.573822770,2.532804369],[21.821797744,1.741055417],[22.069772719,1.943580494],[22.317747693,2.525714691],[22.565722667,1.782670390],[22.813697642,1.524682980],[23.061672616,2.439033448],[23.309647590,1.589124368],[23.557622565,2.028483306],[23.805597539,2.610074019],[24.053572514,1.840419700],[24.301547488,1.658918306],[24.549522462,1.623304945],[24.797497437,1.778047253],[25.045472411,2.770829617],[25.293447385,1.897923263],[25.541422360,1.475596154],[25.789397334,2.373724809],[26.037372308,1.516164052],[26.285347283,1.506199959],[26.533322257,1.608536083],[26.781297232,1.536561531],[27.029272206,2.110494558],[27.277247180,1.560680895],[27.525222155,2.007641330],[27.773197129,1.913245957],[28.021172103,1.499689218],[28.269147078,1.489279757],[28.517122052,1.547908984],[28.765097026,1.438783982],[29.013072001,1.508629271],[29.261046975,1.538068176],[29.509021950,1.586333655],[29.756996924,1.771730786],[30.004971898,1.821882395],[30.252946873,1.487963803],[30.500921847,1.774917741],[30.748896821,1.913194334],[30.996871796,1.488989581],[31.244846770,1.551545995],[31.492821744,1.531683188],[31.740796719,1.480493484],[31.988771693,1.513834581],[32.236746668,1.465862884],[32.484721642,1.504785302],[32.732696616,1.518913521],[32.980671591,1.479943698],[33.228646565,1.863427626],[33.476621539,1.512961037],[33.724596514,1.515508444],[33.972571488,1.549259930],[34.220546463,1.483280579],[34.468521437,1.497009281],[34.716496411,1.646438960],[34.964471386,1.480195504],[35.212446360,1.518979520],[35.460421334,1.492773867],[35.708396309,1.512725944],[35.956371283,1.448344058],[36.204346257,1.481817900],[36.452321232,1.461824205],[36.700296206,1.464300929],[36.948271181,1.475503544],[37.196246155,1.442169538],[37.444221129,1.444857283],[37.692196104,1.498928389],[37.940171078,1.418676818],[38.188146052,1.439552654],[38.436121027,1.493470797],[38.684096001,1.430515059],[38.932070975,1.445673526],[39.180045950,1.681867996],[39.428020924,1.408904886],[39.675995899,1.459853803],[39.923970873,1.441727794],[40.171945847,1.434068459],[40.419920822,1.459918326],[40.667895796,1.428660927],[40.915870770,1.432437043],[41.163845745,1.453218103],[41.411820719,1.408284984]];
var xticks = 10;
var yticks = 10;
window.alert(yticks);
window.alert(xticks);
var xmlDoc=document.implementation.createDocument("","",null);
xmlDoc.async=false;
xmlDoc.load("columns.xml");

var x=xmlDoc.getElementsByTagName("to");


var txt = x[0].childNodes[0].nodeValue;


var counter=0;
var x_array_count=0;
var y_array_count=0;
var x_array = new Array();

var y_array = new Array();

for (i=0;i<=txt.length;i++)
{
if (counter == 0){
	if (txt.charAt(i)==" " || txt.charAt(i) == "\n"){
	counter = 1;
	parseFloat(x_array[x_array_count]);
	x_array_count++; 

	}
	else {

		if (x_array[x_array_count] != null){
		x_array[x_array_count] = x_array[x_array_count].concat(txt.charAt(i));

		}
		else{
		x_array[x_array_count] = txt.charAt(i); 
		}
	}
}
else{

	if (txt.charAt(i)==" "|| txt.charAt(i) == "\n"){
				counter = 0;
				parseFloat(y_array[y_array_count]);
				y_array_count++;
				}
	else {
		if (y_array[y_array_count] != null){
		y_array[y_array_count] = y_array[y_array_count].concat(txt.charAt(i));

		}
		else{
		y_array[y_array_count] = txt.charAt(i); 

		}
	}
}
}

function getXTicks()
{var xticks_string = prompt("Please enter how many ticks");
var xticks_temp = parseInt(xticks_string);
xticks = xticks_temp;
doGraph();
}
function getYTicks()
{var yticks_string = prompt("Please enter how many ticks");
var yticks_temp = parseInt(yticks_string);
yticks = yticks_temp;
doGraph();
}


function doGraph(){
var d = g;
var options = {
        legend: { show: false },
        lines: { show: true },
        points: { show: false },
	xaxis: {ticks: xticks},
        yaxis: { ticks: yticks },
        selection: { mode: "xy" }
    };

plot = $.plot($("#placeholder"), [d], options);
}

doGraph();



</script>
 <button onclick="getXTicks();">Set X Ticks</button>
 <button onclick="getYTicks();">Set Y Ticks</button>
</body>
</html>
